<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>
<div class="head">
  <div class="navigation-pane">
    <h2 *ngFor="let item of data.adress">
      <p routerLink="/folder/{{ item[1] }}">{{ item[0] }}</p>
      <i class="material-icons">chevron_right</i>
    </h2>
  </div>
  <div class="button-display">
    <button><i class="material-icons" (click)="showList()">menu</i></button>
    <button>
      <i class="material-icons" (click)="showGrid()">grid_view</i>
    </button>
  </div>
</div>

<div class="main">
  <div *ngIf="this.show_grid == true">
    <div
      class="folder"
      *ngFor="let item of data.folders"
      routerLink="/folder/{{ item.id }}"
      #img
    >
      <span>
        <i class="material-icons">folder </i>
        <h1>{{ item.name }}</h1>
      </span>
      <p-contextMenu
        [target]="img"
        [model]="contextMenuItems"
        (click)="handleMenuClick($event, item.id)"
      ></p-contextMenu>
    </div>

    <div
      class="folder"
      *ngFor="let item of data.files"
      (click)="openfile(item.file)"
    >
      <i class="material-icons">picture_as_pdf </i>
      <h1>{{ item.name }}</h1>
    </div>
  </div>

  <table *ngIf="this.show_grid == false">
    <thead *ngIf="!(data.files.length == 0 && data.folders.length == 0)">
      <tr>
        <th></th>
        <th style="width: 350px">Name</th>
        <th style="width: 150px">created at</th>
        <th style="width: 150px">Last modifid</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let item of data.folders"
        class="table"
        routerLink="/folder/{{ item.id }}"
      >
        <td><i class="material-icons">folder</i></td>
        <td>{{ item.name }}</td>
        <td>{{ separateDateTime(item.created_at) }}</td>
        <td>{{ separateDateTime(item.updated_at) }}</td>
      </tr>
      <tr
        *ngFor="let item of data.files"
        class="table"
        routerLink="/folder/{{ item.id }}"
      >
        <td><i class="material-icons">picture_as_pdf</i></td>
        <td>{{ item.name }}</td>
        <td>{{ separateDateTime(item.created_at) }}</td>
        <td>{{ separateDateTime(item.updated_at) }}</td>
      </tr>
    </tbody>
  </table>
  <div class="empty-image">
    <img
      src="/assets/images/empty-folder.png"
      alt="image"
      *ngIf="data.files.length == 0 && data.folders.length == 0"
    />
  </div>
</div>

<ng-template #content let-modal>
  <div class="tem">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">New Folder</h4>
      <button
        type="button"
        class="btn-close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      ></button>
    </div>
    <div class="modal-body">
      <form>
        <div class="mb-3"></div>
      </form>
      <!-- <p
        style="color: red"
        [ngStyle]="{ display: this.error == '' ? 'none' : 'block' }"
      >
        {{ this.error }}
      </p> -->
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-dark"
        (click)="modal.dismiss('cancel Click')"
      >
        Cancel
      </button>
      <button type="button" class="btn btn-outline-dark">Create</button>
    </div>
  </div>
</ng-template>

